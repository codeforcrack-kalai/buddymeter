<!DOCTYPE html>
<html lang="en">
<head>
  <title>guess me </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>


  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-113476309-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-113476309-1');
</script>

  <script src="js/techmyntra.js">
</script>
</head>
<style>
.card {
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    transition: 0.3s;
    width: 100%;
    border-radius: 5px;
}

.card:hover {
    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
}

img {
    border-radius: 5px 5px 0 0;
}

.container {
    padding: 2px 16px;
}

label > input{ /* HIDE RADIO */
  visibility: hidden; /* Makes input not-clickable */
  position: absolute; /* Remove input from document flow */
}
label > input + img{ /* IMAGE STYLES */
  cursor:pointer;
  border:2px solid transparent;
}
label > input:checked + img{ /* (RADIO CHECKED) IMAGE STYLES */
  border:2px solid #f00;
}




li {
    display: inline;
    display: inline-block !important;
}





</style>
<body onload="get_user();"> 

   <script type="text/javascript">
    var q=localStorage.getItem("quiz");
    if(q=='true')
{
 window.location.href="created.html";

}
  </script>
 
<div class="container">
  <h2>guess <span style="color: red;">me</span> </h2>

  <div class="card" >
    <div class="card-body">
    

<div class="alert alert-primary" role="alert">
  Dear <span id="name"></span> ,  create your quiz!

  
</div>

<div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- auto -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3133693996089841"
     data-ad-slot="7179606010"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>



 <script>
  var qid;
  var qname;
  var qoption1;
  var qoption2;
  var qanswer;
  var qc=1;
  var qtoken;
  var option1_text;
  var option2_text;
     
  function getrandomnum(){


 var x ;

    x = Math.floor((Math.random() * 5) + 1);
   // window.alert(x);

  //var qnum = document.getElementById(qnum).value;
  //var ranNums = shuffle([1,2,3,4,5,6,7,8,9,10]);

//var x=ranNums.next().value;

var xmlhttp = new XMLHttpRequest();
//var url = "api/quiz.php?id="+x;

var url = "api/get_questions.php?qid="+x;

xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myArr = JSON.parse(this.responseText);
        
       qid =document.getElementById("qid").innerHTML = myArr[0].id;
         qname=document.getElementById("question").innerHTML = myArr[0].question;
          qoption1=document.getElementById("option1").src  = myArr[0].option1url;
         qoption2=document.getElementById("option2").src  = myArr[0].option2url;
         option1_text=document.getElementById("option1_text").innerHTML  = myArr[0].option1txt;
         option2_text=document.getElementById("option2_text").innerHTML  = myArr[0].option2txt;


    }
};
xmlhttp.open("GET", url, true);
xmlhttp.send();

}

     
  


 var x=1 ;

  //  x = Math.floor((Math.random() * 3) + 1);
   // window.alert(x);

  //var qnum = document.getElementById(qnum).value;

var xmlhttp = new XMLHttpRequest();
//var url = "api/quiz.php?id="+x;
var url = "api/get_questions.php?qid="+x;

xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myArr = JSON.parse(this.responseText);
        

         qid =document.getElementById("qid").innerHTML = myArr[0].id;
         qname=document.getElementById("question").innerHTML = myArr[0].question;
          qoption1=document.getElementById("option1").src  = myArr[0].option1url;
         qoption2=document.getElementById("option2").src  = myArr[0].option2url;
         option1_text=document.getElementById("option1_text").innerHTML  = myArr[0].option1txt;
         option2_text=document.getElementById("option2_text").innerHTML  = myArr[0].option2txt;


    }
};
xmlhttp.open("GET", url, true);
xmlhttp.send();





</script>





<div class="container">
<table style="    table-layout: fixed;
">
  <tr><td></td></tr>
      <span id="qid" style="visibility: hidden;"></span>

  <tr><td><h4 id="question"></h4></td>
  </tr>

   <tr><td width="20%"> <label>
    <input type="radio" name="option" value="1" id="myRadio" onclick="handleClick(this);" />
    <img id="option1" src="" width="257x300"><br>

    <div style="padding: 12px;background-color: #efefef;text-align: center;font-size:22px; " id="option1_text"></div>

  </label></td>
    <td width="20%"> <label>
    <input type="radio" name="option" value="2" id="myRadio" onclick="handleClick(this);" />
    <img id="option2" src="" width="257x300"><br>
    <div style="padding: 12px;background-color: #efefef;text-align: center;font-size:22px; " id="option2_text"></div>
  </label></td>
  </tr>
</table>
</div>

<!--

    <span id="qid" style="visibility: hidden;"></span>
       <ul>
  <li> <h4 id="question"></h4></li></ul>

<ul>
  <li>
    <label>
    <input type="radio" name="option" value="1" id="myRadio" onclick="handleClick(this);" />
    <img id="option1" src="" width="257x300"><br>

    <div style="padding: 12px;background-color: #efefef;text-align: center;font-size:22px; " id="option1_text"></div>

  </label>
  </li>
  <li>
    <label>
    <input type="radio" name="option" value="2" id="myRadio" onclick="handleClick(this);" />
    <img id="option2" src="" width="257x300"><br>
    <div style="padding: 12px;background-color: #efefef;text-align: center;font-size:22px; " id="option2_text"></div>
  </label>
  </li>
  </ul>
-->


<!--


  <div class="row">
    <div class="col-lg-12 col-md-12">
      <span id="qid"></span>
      <h2 id="question"></h2>
    </div>
    <div class="col-lg-3 col-md-3 col-xs-3" style="display: inline;">
<label>
    <input type="radio" name="option" value="1" id="myRadio" onclick="handleClick(this);" />
    <img id="option1" src="" width="200x200"><br>

    <div style="padding: 12px;background-color: #efefef;text-align: center;font-size:22px; " id="option1_text"></div>

  </label>
    </div>

     <div class="col-lg-3 col-md-3 col-xs-3" style="display: inline;">
<label>
    <input type="radio" name="option" value="2" id="myRadio" onclick="handleClick(this);" />
    <img id="option2" src="" width="200x200"><br>
    <div style="padding: 12px;background-color: #efefef;text-align: center;font-size:22px; " id="option2_text"></div>
  </label>
    </div>
    <div id="id01"></div>

</div>


-->
<ul>
  <li>
  <button type="button" class="btn btn-success" value="" id="qc" >Question 1/10</button></li>
  <li>

  <button type="button" class="btn btn-warning" onclick="getrandomnum();">Skip this question &gt;&gt;&gt;</button></li>
</ul>


    </div>
  </div>
</div>

<script type="text/javascript">
  var currentValue = 0;
function handleClick(myRadio) {
   // alert('Old value: ' + currentValue);
     qanswer=currentValue;
var lab=localStorage.getItem("lab");
var n=localStorage.getItem("name");
var t=localStorage.getItem("token");

       
    //alert('answer: ' + myRadio.value+'question_id'+qid+'question_name'+qname+'question_option1'+qoption1+'question_option2'+qoption2+'qc'+qc+'qtoken'+t,+'opt1text'+option1_text,+'opt2text'+option2_text);

     //   var xmlhttp12 = new XMLHttpRequest();
  //  var key='Gd243vdfgdfgfdgfd55554GFFDGFDGSGSDsaDSF';
//var url = "api/quiz_store.php?name="+n+'&token='+t+'&qid='+qid+'&qname='+qname+'&option1_url='+qoption1+'&option2_url='+qoption2+'&option1_text='+option1_text+'&option2_text='+option2_text+'&answer='+myRadio.value;

//xmlhttp12.onreadystatechange = function() {
   // if (this.readyState == 4 && this.status == 200) {
      //  var myArr122 = JSON.parse(this.responseText);
     //   window.alert(responseText);
        

        // document.getElementById("question").innerHTML = myArr.question;
          //document.getElementById("option1").src  = myArr.option1;
        // document.getElementById("option2").src  = myArr.option2;



  //  }
//};
//xmlhttp12.open("GET", url, true);
//xmlhttp12.send();

 var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange=function() {
    if (this.readyState == 4 && this.status == 200) {
    
      var s= JSON.parse(this.responseText);
      var s1=s.response_code;
       // window.alert('response_code'+s.response_code);

        if(s1==10)
        {
            qc=qc+1;
            if(qc==11)
            {

             // window.alert('Share link');
             // http://localhost/techmyntra/qiz/


    store_quiz_id();

               window.location.href="created.html";
            }



    getrandomnum();
        }
        else
        {

          window.alert('Sorry Try Again');
        }
    }
  };



  xhttp.open("POST", "api/quiz_store.php?name="+n+'&token='+t+'&qid='+qid+'&qname='+qname+'&option1_url='+qoption1+'&option2_url='+qoption2+'&option1_text='+option1_text+'&option2_text='+option2_text+'&answer='+myRadio.value+"&key=Gd243vdfgdfgfdgfd55554GFFDGFDGSGSDsaDSF");
  xhttp.send();

    currentValue = myRadio.value;

    var qcdispla='Question '+qc+'/10';
    document.getElementById("qc").innerHTML = qcdispla;


  
}
</script>

</body>
</html>
